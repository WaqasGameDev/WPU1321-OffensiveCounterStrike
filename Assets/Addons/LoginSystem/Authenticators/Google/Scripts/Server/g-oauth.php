<html lang="en">
   <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no,minimal-ui,shrink-to-fit=no,viewport-fit=cover">
      <meta name="theme-color" content="#000000">
      <meta name="referrer" content="origin-when-cross-origin">
      <title>Lovatto Studio</title>
      <style data-jss="" data-meta="MuiCssBaseline">
         html {
         box-sizing: border-box;
         -webkit-font-smoothing: antialiased;
         -moz-osx-font-smoothing: grayscale;
         }
         *, *::before, *::after {
         box-sizing: inherit;
         }
         strong, b {
         font-weight: 700;
         }
         body {
         color: rgba(244, 244, 244, 0.5);
         margin: 0;
         font-size: 1rem;
         font-family: Brutal, sans-serif;
         font-weight: 400;
         line-height: 1.43;
         background-color: #121212;
         }
         @media (max-width:470px) {
         body {
         font-size: 16px;
         html-font-size: 16;
         }
         }
         @media print {
         body {
         background-color: #fff;
         }
         }
         body::backdrop {
         background-color: #121212;
         }
         .ModalBase-container{position:absolute;width:100%;height:100%;top:0;bottom:0;left:0;right:0;}
         .ModalBase-container .ModalBase-content{text-align:center;white-space:nowrap;height:100%;margin:auto;overflow-x:hidden;overflow-y:auto;-webkit-overflow-scrolling:touch;padding-top:env(safe-area-inset-top);}
         .ModalBase-container .ModalBase-content:before{content:"";display:inline-block;height:100%;vertical-align:middle;}
         .ModalBase-container .ModalBase-content .ModalBase-card{background-color:#202020;position:relative;border:none;text-align:left;text-align:initial;white-space:normal;display:inline-block;vertical-align:middle;max-width:470px;min-width:320px;width:100%;}
         @media only screen and (max-width:470px){
         .ModalBase-container .ModalBase-content .ModalBase-card{padding:2em 0 .5em;}
         }
         .ModalBase-container .ModalBase-content .ModalBase-card .optional-top-spacer{background-color:#202020;height:1.8em;position:absolute;top:-1.8em;left:0;right:0;z-index:-1;}
         .ModalBase-container .ModalBase-content .ModalBase-card .optional-bottom-spacer{background-color:#202020;height:3.3em;position:absolute;bottom:-3.3em;left:0;right:0;z-index:0;}
         .ModalBase-container .ModalBase-content .ModalBase-card .ModalBase-card-content{padding:2.5em 60px 1em;}
         @media only screen and (max-width:470px){
         .ModalBase-container .ModalBase-content .ModalBase-card .ModalBase-card-content{padding:0 15px;}
         }
         @media only screen and (max-width:330px){
         .ModalBase-container .ModalBase-content .ModalBase-card .ModalBase-card-content{padding:0 10px;}
         }
         @media only screen and (max-width:470px){
         .ModalBase-container .ModalBase-content{width:100%;height:100%;background-color:#202020;}
         }
         .EpicLogo-layout{display:flex;flex-direction:column;align-items:center;}
         #root,body,html{background-color:#121212;height:100%;width:100%;font-size:12px;}
         html{overflow:hidden;}
         .upper{text-transform:uppercase;}
         .center{display:block;margin:0 auto;text-align:center;}
         .layout-vertical{display:flex;flex-direction:column;width:100%;min-width:300px;}
         .layout-vertical .Subheading{margin-top:30px;}
         .layout-vertical .Prompt{margin-top:20px;}
         ::-webkit-scrollbar{width:8px;height:8px;}
         ::-webkit-scrollbar-track{background:#3b3b3b;border-radius:50px;}
         ::-webkit-scrollbar-thumb{background:#a9a9a9;border-radius:50px;}
         ::-webkit-scrollbar-track:hover{background:#545454;}
         ::-webkit-scrollbar-button{width:8px;height:0;display:block;}
         ::-webkit-scrollbar-corner{background-color:transparent;}
         body{scrollbar-base-color:#545454;scrollbar-face-color:#545454;scrollbar-3dlight-color:#fff;scrollbar-highlight-color:#fff;scrollbar-track-color:#3b3b3b;scrollbar-arrow-color:#fff;scrollbar-shadow-color:#545454;scrollbar-dark-shadow-color:#3b3b3b;}
         :not(input):not(.form-field){user-drag:none;user-select:none;-moz-user-select:none;-webkit-tap-highlight-color:transparent;-webkit-user-drag:none;-webkit-user-select:none;-ms-user-select:none;}
         /*! CSS Used from: Embedded */
         html{box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}
         *,*::before,*::after{box-sizing:inherit;}
         body{color:rgba(244, 244, 244, 0.5);margin:0;font-size:1rem;font-family:Brutal, sans-serif;font-weight:400;line-height:1.43;background-color:#121212;}
         @media (max-width:470px){
         body{font-size:16px;html-font-size:16;}
         }
         @media print{
         body{background-color:#fff;}
         }
         .layout-vertical{display:flex;flex-direction:column;width:100%;min-width:300px;}
         .ModalBase-container .ModalBase-content .ModalBase-card .ModalBase-card-content{padding:2.5em 60px 1em;}
         .ModalBase-container .ModalBase-content .ModalBase-card{background-color:#202020;position:relative;border:none;text-align:left;text-align:initial;white-space:normal;display:inline-block;vertical-align:middle;max-width:470px;min-width:320px;width:100%;}
         .MuiTypography-root{margin:0;overflow:hidden;text-overflow:ellipsis;}
         .MuiTypography-body1{color:rgba(244, 244, 244, 0.5);font-size:1.1428571428571428rem;font-family:Brutal, sans-serif;font-weight:400;line-height:1.5;}
         .MuiTypography-subtitle1{color:#F4F4F4;font-size:12px;font-family:Brutal, sans-serif;font-weight:500;line-height:16px;letter-spacing:0.5px;}
         @font-face{font-family:"Brutal";src:url(https://static-assets-prod.unrealengine.com/account-portal/static/static/media/BrutalType-Bold.aad2f37c.eot);src:url(https://static-assets-prod.unrealengine.com/account-portal/static/static/media/BrutalType-Bold.aad2f37c.eot) format("embedded-opentype"),url(https://static-assets-prod.unrealengine.com/account-portal/static/static/media/BrutalType-Bold.7d12e2ec.woff) format("woff"),url(https://static-assets-prod.unrealengine.com/account-portal/static/static/media/BrutalType-Bold.8267839d.svg) format("svg");font-weight:600;font-style:normal;text-rendering:optimizeLegibility;}
         @font-face{font-family:"Brutal";src:url(https://static-assets-prod.unrealengine.com/account-portal/static/static/media/BrutalType-Medium.de5b0af6.eot);src:url(https://static-assets-prod.unrealengine.com/account-portal/static/static/media/BrutalType-Medium.de5b0af6.eot) format("embedded-opentype"),url(https://static-assets-prod.unrealengine.com/account-portal/static/static/media/BrutalType-Medium.6a0ccd2a.woff) format("woff"),url(https://static-assets-prod.unrealengine.com/account-portal/static/static/media/BrutalType-Medium.ce76dd3e.svg) format("svg");font-weight:500;font-style:normal;text-rendering:optimizeLegibility;}
         @font-face{font-family:"Brutal";src:url(https://static-assets-prod.unrealengine.com/account-portal/static/static/media/BrutalType-Regular.43423331.eot);src:url(https://static-assets-prod.unrealengine.com/account-portal/static/static/media/BrutalType-Regular.43423331.eot) format("embedded-opentype"),url(https://static-assets-prod.unrealengine.com/account-portal/static/static/media/BrutalType-Regular.c36d188d.woff) format("woff"),url(https://static-assets-prod.unrealengine.com/account-portal/static/static/media/BrutalType-Regular.91a0d8e8.svg) format("svg");font-weight:400;font-style:normal;text-rendering:optimizeLegibility;}
         @font-face{font-family:"Brutal";src:url(https://static-assets-prod.unrealengine.com/account-portal/static/static/media/BrutalType-ExtraLight.14466af2.eot);src:url(https://static-assets-prod.unrealengine.com/account-portal/static/static/media/BrutalType-ExtraLight.14466af2.eot) format("embedded-opentype"),url(https://static-assets-prod.unrealengine.com/account-portal/static/static/media/BrutalType-ExtraLight.370c7d2a.woff) format("woff"),url(https://static-assets-prod.unrealengine.com/account-portal/static/static/media/BrutalType-ExtraLight.54919b13.svg) format("svg");font-weight:200;font-style:normal;text-rendering:optimizeLegibility;}
      </style>
      <style data-jss="" data-meta="MuiTypography">
         .MuiTypography-root {
         margin: 0;
         overflow: hidden;
         text-overflow: ellipsis;
         }
         }
         .MuiTypography-body1 {
         color: rgba(244, 244, 244, 0.5);
         font-size: 1.1428571428571428rem;
         font-family: Brutal, sans-serif;
         font-weight: 400;
         line-height: 1.5;
         }
         .MuiTypography-h6 {
         font-size: 1.4285714285714286rem;
         font-family: Brutal, sans-serif;
         font-weight: 500;
         line-height: 1.6;
         }
         .MuiTypography-subtitle1 {
         color: #F4F4F4;
         font-size: 12px;
         font-family: Brutal, sans-serif;
         font-weight: 500;
         line-height: 16px;
         letter-spacing: 0.5px;
         }  
         .MuiTypography-colorError {
         color: #FFF;
         font-size: 14px;
         min-height: 34px;
         font-weight: normal;
         line-height: 20px;
         padding-top: 12px;
         padding-left: 30px;
         padding-right: 30px;
         padding-bottom: 12px;
         background-color: #D54841;
         }
         .MuiTypography-displayInline {
         display: inline;
         }
         .MuiTypography-displayBlock {
         display: block;
         }
         .MuiButtonBase-root{color:inherit;border:0;cursor:pointer;margin:0;display:inline-flex;outline:0;padding:0;position:relative;align-items:center;user-select:none;border-radius:0;vertical-align:middle;-moz-appearance:none;justify-content:center;text-decoration:none;background-color:transparent;-webkit-appearance:none;-webkit-tap-highlight-color:transparent;}
.MuiButtonBase-root::-moz-focus-inner{border-style:none;}
/*! CSS Used from: Embedded */
.MuiButton-root{color:#fff;height:50px;padding:6px 16px;font-size:12px;min-width:40px;box-sizing:border-box;transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;font-family:Brutal, sans-serif;font-weight:500;line-height:16px;border-radius:0;letter-spacing:0.5px;text-transform:uppercase;}
.MuiButton-root:hover{text-decoration:none;background-color:rgba(255, 255, 255, 0.08);}
@media (hover: none){
.MuiButton-root:hover{background-color:transparent;}
}
.MuiButton-label{width:100%;display:inherit;align-items:inherit;justify-content:inherit;}
.MuiButton-contained{color:rgba(0, 0, 0, 0.87);box-shadow:none;background-color:#e0e0e0;}
.MuiButton-contained:hover{box-shadow:0px 2px 4px -1px rgba(0,0,0,0.2),0px 4px 5px 0px rgba(0,0,0,0.14),0px 1px 10px 0px rgba(0,0,0,0.12);background-color:#d5d5d5;}
.MuiButton-contained:active{box-shadow:0px 5px 5px -3px rgba(0,0,0,0.2),0px 8px 10px 1px rgba(0,0,0,0.14),0px 3px 14px 2px rgba(0,0,0,0.12);}
@media (hover: none){
.MuiButton-contained:hover{box-shadow:0px 3px 1px -2px rgba(0,0,0,0.2),0px 2px 2px 0px rgba(0,0,0,0.14),0px 1px 5px 0px rgba(0,0,0,0.12);background-color:#e0e0e0;}
}
.MuiButton-containedPrimary{color:#fff;background-color:#037BEE;}
.MuiButton-containedPrimary:hover{background-color:rgb(2, 86, 166);}
.MuiButton-containedPrimary:focus{background-color:rgba(3, 123, 238, 0.8);}
@media (hover: none){
.MuiButton-containedPrimary:hover{background-color:#037BEE;}
}
.MuiButton-fullWidth{width:100%;}
      </style>
   </head>
   <body style="background:#121212" data-gr-c-s-loaded="true" cz-shortcut-listen="true">
      <div id="root">
         <div dir="ltr">
            <div class="ModalBase-container">
               <div class="ModalBase-content">
                  <div class="ModalBase-card">
                     <div class="optional-top-spacer"></div>
                     <div class="ModalBase-card-content">
                        <div class="layout-vertical">
                           <div class="EpicLogo-layout">
                           </div>
                           <?php
                            require_once('bl_Common.php');
                              $state = $_GET['state'];
                              $code  = $_GET['code'];
                              
                              if (isset($code))
                                {
                                  $data = array(
                                      'state' => $state,
                                      'code' => $code
                                  );
                                  $db = Utils::get_sqlite_db('gSessionsdb.db', 'gSessions'); 
                                  if ($db->exec("INSERT INTO gSessions (state, code) VALUES ('$state', '$code')"))
                                    {
                                      //echo json_encode($data);
                                     echo '<h6 class="MuiTypography-root Subheading upper center MuiTypography-subtitle1" style="margin-top: 50px;">Almost done!</h6>' .
                                     '<p class="MuiTypography-root Prompt center MuiTypography-body1">Close this window and back to the game.</p>'. 
                                     '<button class="MuiButtonBase-root MuiButton-root MuiButton-contained SubmitButton MuiButton-containedPrimary MuiButton-fullWidth" tabindex="0" type="submit" aria-label="continue-to-launcher" id="login-continue" style="margin-top: 20px;" onclick="window.open(\'\', \'_self\', \'\'); window.close();"><span class="MuiButton-label">Continue</span></button>';
                                    }
                                  else
                                    {
                                      echo '<p class="MuiTypography-colorError Prompt center MuiTypography-body1">' . $db->lastErrorMsg() . '</p>';;
                                    }
                                  $db->close();
                                }else{
                                    echo "Unknown result";
                                }
                              ?>                   
                        </div>
                     </div>
                     <div class="optional-bottom-spacer"></div>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </body>
</html>